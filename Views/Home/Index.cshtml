
@model ResourcesBankNew.Models.Major
@{
    ViewData["Title"] = "Home Page";
}
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<div class="container">
    <div class="row">
        <div class="col-sm-2 form-group">
            <select asp-for="FacultyId" class="form-control" id="facultyId"
                    asp-items="@(new SelectList(@ViewBag.EngFaculties,"FacultyId","FacultyName"))"></select>
        </div>
        <div class="col-sm-2 form-group">
            <select asp-for="MajorId" class="form-control" id="majorId"></select>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        GetSubCategoryByCategoryId();
    })
    $("#facultyId").change(function () {
        GetSubCategoryByCategoryId();
    });
    var GetSubCategoryByCategoryId = function () {
         $.ajax({
             url: '@Url.Action("GetSubCategoryByCategoryId","Home")',

         
            type: 'GET',
             data: {
                 Id: $('#facultyId').val(),

            },
             success:function (data) {
                $('#majorId').find('option').remove()
                $.each(data,
                    function (index, item) {
                        $('#majorId').append('<option value="' + item.majorId  + '">' + item.name + '</option>')
                    });
                
            },
            error: function () {
            }
           });
    }
</script>